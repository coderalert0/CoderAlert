<div id="dataTable_wrapper" class="dataTables_wrapper">
  <div class="dataTables_length" id="dataTable_length">
    <%= link_to 'New', new_ticket_path, class: 'btn btn-primary' %>
    <br/><br/>

<!--    <label>-->
<!--      Show-->
<!--      <select name="dataTable_length" aria-controls="dataTable" class="">-->
<!--        <option value="10">10</option>-->
<!--        <option value="25">25</option>-->
<!--        <option value="50">50</option>-->
<!--        <option value="100">100</option>-->
<!--      </select>-->
<!--      entries-->
<!--    </label>-->
  </div>

  <div id="dataTable_filter" class="dataTables_filter">
  <%= bootstrap_form_for :search_tickets, url: tickets_path, method: :get do |f| %>
    <%= f.text_field :query, label: 'Search' %>
  <% end %>
  </div>
  <br/>

  <table id="dataTable" class="table table-striped table-bordered dataTable" cellspacing="0" width="100%" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
    <thead>
    <tr role="row">
      <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 5%;">Priority</th>
      <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 5%;">ID</th>
      <th class="sorting_asc" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 36%;">Title</th>
      <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Office: activate to sort column ascending" style="width: 5%;">Status</th>
      <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Age: activate to sort column ascending" style="width: 20%;">Assignee</th>
      <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 17%;">Created</th>
      <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 17%;">Last Updated</th>
    </tr>
    </thead>
    <tbody>

      <% @tickets.each do |ticket| %>
        <tr role="row" class="odd">
          <td><%= ticket.priority %></td>
          <td class="sorting_1">
            <%= link_to ticket.slug, ticket_path(ticket) %>
          </td>
          <td class="sorting_1">
            <%= link_to ticket.title, ticket_path(ticket) %>
          </td>
          <td><%= ticket.status %></td>
          <td><%= ticket.assignee.full_name %> <%= ticket.viewed_by_assignee_icon %></td>
          <td><%= ticket.created_at.to_formatted_s(:custom_long_ordinal) %></td>
          <td><%= ticket.updated_at.to_formatted_s(:custom_long_ordinal) %></td>
        </tr>
      <% end %>

    </tbody>
  </table>
  <div class="dataTables_info" id="dataTable_info" role="status" aria-live="polite">Showing 1 to 10 of 57 entries</div>
  <div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate"><a class="paginate_button previous disabled" aria-controls="dataTable" data-dt-idx="0" tabindex="0" id="dataTable_previous">Previous</a><span><a class="paginate_button current" aria-controls="dataTable" data-dt-idx="1" tabindex="0">1</a><a class="paginate_button " aria-controls="dataTable" data-dt-idx="2" tabindex="0">2</a><a class="paginate_button " aria-controls="dataTable" data-dt-idx="3" tabindex="0">3</a><a class="paginate_button " aria-controls="dataTable" data-dt-idx="4" tabindex="0">4</a><a class="paginate_button " aria-controls="dataTable" data-dt-idx="5" tabindex="0">5</a><a class="paginate_button " aria-controls="dataTable" data-dt-idx="6" tabindex="0">6</a></span><a class="paginate_button next" aria-controls="dataTable" data-dt-idx="7" tabindex="0" id="dataTable_next">Next</a></div>
</div>